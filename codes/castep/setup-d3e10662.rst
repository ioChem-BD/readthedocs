setup
=====================================

.. toctree::
   :maxdepth: 5  

   /codes/castep/cell-d3e10670
   /codes/castep/atoms-d3e10782
   /codes/castep/symmetry-d3e11008

=====

.. table:: Implementation level

   +----------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------+
   | Type                                                                                                                       | Status                                                                                                                     |
   +============================================================================================================================+============================================================================================================================+
   | CML extraction template                                                                                                    | |image1|                                                                                                                   |
   +----------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------+
   | HTML5 representation                                                                                                       | |image2|                                                                                                                   |
   +----------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------+

.. table:: Template attributes

   +----------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------+
   | Attribute                                                                                                                  | Value                                                                                                                      |
   +============================================================================================================================+============================================================================================================================+
   | *source*                                                                                                                   | CASTEP log                                                                                                                 |
   +----------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------+
   | id                                                                                                                         | setup                                                                                                                      |
   +----------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------+
   | name                                                                                                                       | Setup atoms and cell                                                                                                       |
   +----------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------+
   | pattern                                                                                                                    | &#92;s*&#92;-{10,}.*$&#92;s*Unit&#92;sCell.\*                                                                              |
   +----------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------+
   | endPattern                                                                                                                 | &#92;+&#92;-*&#92;s*MEMORY&#92;sAND&#92;sSCRATCH&#92;sDISK&#92;sESTIMATES&#92;sPER&#92;sPROCESS.\*                         |
   +----------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------+
   | endOffset                                                                                                                  | 0                                                                                                                          |
   +----------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------+
   | xml:base                                                                                                                   | setup/setup.xml                                                                                                            |
   +----------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------+

.. container:: formalpara-title

   **Input**

::

.. warning::

   Current template has input comments defined but it's output is missing, please notify software developers.

.. container:: formalpara-title

   **Template definition**

.. code:: xml

   <templateList>  <xi:include href="setup/cell.xml" />  <xi:include href="setup/atoms.xml" />  <xi:include href="setup/symmetry.xml" />   
       </templateList>
   <transform process="createCrystal" xpath="//cml:module[@cmlx:templateRef='setup']//cml:atomArray" lattice="//cml:module[@cmlx:templateRef='setup']//cml:list[@dictRef='ca:axis']" id="coordinates" connect="no" />
   <transform process="delete" xpath=".//cml:module[@cmlx:templateRef='atomtable']/cml:atomArray" />
   <transform process="move" xpath="//cml:module[@cmlx:templateRef='atomtable']/cml:molecule" to="." />

.. |image1| image:: ../../imgs/Total.png
.. |image2| image:: ../../imgs/Partial.png
