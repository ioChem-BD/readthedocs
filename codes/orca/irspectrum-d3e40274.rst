.. _irspectrum-d3e40274:

irspectrum
==========

.. table:: Implementation level

   +----------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------+
   | Type                                                                                                                       | Status                                                                                                                     |
   +============================================================================================================================+============================================================================================================================+
   | CML extraction template                                                                                                    | |image1|                                                                                                                   |
   +----------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------+
   | HTML5 representation                                                                                                       | |image2|                                                                                                                   |
   +----------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------+

.. table:: Template attributes

   +----------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------+
   | Attribute                                                                                                                  | Value                                                                                                                      |
   +============================================================================================================================+============================================================================================================================+
   | *source*                                                                                                                   | Orca log                                                                                                                   |
   +----------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------+
   | id                                                                                                                         | irspectrum                                                                                                                 |
   +----------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------+
   | name                                                                                                                       | IR spectrum module                                                                                                         |
   +----------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------+
   | pattern                                                                                                                    | &#92;s*&#92;-+&#92;s*$&#92;s*IR&#92;sSPECTRUM&#92;s*$&#92;s*&#92;-+&#92;s\*                                                |
   +----------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------+
   | endPattern                                                                                                                 | &#92;s*The&#92;stotal&#92;snumber&#92;sof&#92;svibrations&#92;sconsidered.\*                                               |
   +----------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------+
   | endOffset                                                                                                                  | 1                                                                                                                          |
   +----------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------+
   | repeat                                                                                                                     | \*                                                                                                                         |
   +----------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------+
   | xml:base                                                                                                                   | job/irspectrum.xml                                                                                                         |
   +----------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------+

.. container:: formalpara-title

   **Input**

::

   -----------
   IR SPECTRUM
   -----------

    Mode    freq (cm**-1)   T**2         TX         TY         TZ
   -------------------------------------------------------------------
     18:        48.29    1.958597  (  0.884259  -1.083932  -0.042133)
     19:        56.20    0.202210  ( -0.366671  -0.126137   0.227710)
     20:        76.33    8.074406  ( -2.209194  -1.114149  -1.397333)
     21:       118.24   10.840233  (  0.516893  -2.063912   2.512633)
     22:       125.84   15.470078  (  1.076971  -3.010689   2.290406)
     23:       140.45    2.550585  ( -0.579264   1.487969  -0.031412)
     24:       165.46   23.990890  (  4.133871  -1.466904  -2.179493)
     25:       166.65   33.867958  (  2.503370  -1.029163  -5.151885)
     26:       180.56   20.957601  (  0.086834   1.816179  -4.201375)
     27:       210.89    3.353067  ( -0.831165   1.153060  -1.154419)
     28:       213.68    7.328302  (  1.749481  -1.554620  -1.360432)
     29:       243.14    1.256768  (  0.376961  -1.042918  -0.164287)
     30:       289.35   61.222178  ( -1.294219  -7.466147  -1.950338)
     31:       326.00    7.942233  ( -2.722637   0.298542  -0.663590)
     32:       353.03   66.722727  (  2.152008   7.555053   2.238920)
     33:       359.71   15.208741  (  2.226276   2.180749   2.344520)
     34:       403.35    0.875287  ( -0.752992  -0.539829  -0.129901)
     35:       413.83   19.891098  ( -0.471604  -2.387343   3.737550)
     36:       458.45    6.122292  ( -0.798811  -0.976860  -2.128365)
     37:       490.06   12.789591  (  1.565376   1.395099   2.897048)
     38:       498.35   11.949040  ( -1.608055  -2.981851   0.686849)
     39:       506.68    8.751565  ( -2.323328  -0.924837  -1.580629)
     40:       547.42   28.071801  (  3.874851   1.962031   3.034430)
     41:       559.59  111.547061  (  5.454474   7.367291  -5.245837)
     42:       610.93   95.834401  (  4.314471  -2.159479   8.518004)
     43:       629.92   75.618738  ( -6.158596  -2.205256  -5.729509)
     44:       694.41    2.985879  ( -0.841267   0.467731  -1.435053)
     45:       712.50    4.401776  ( -0.063340   0.413430   2.055928)
     46:       723.61    7.373641  (  1.517600  -2.140960   0.697725)
     47:       746.64   46.716719  ( -6.564994   1.514624  -1.150431)
     48:       757.11   25.479334  ( -4.293846   0.359850  -2.629208)
     49:       800.24   50.377591  ( -3.584442   1.383597  -5.967833)
     50:       816.12   12.241444  (  1.374327  -0.410496   3.191263)
     51:       828.11   21.805398  ( -1.426366   1.410745  -4.216714)
     52:       848.62    8.885390  (  2.678021  -0.639273  -1.142333)
     53:       856.79    5.818196  ( -1.463991  -0.040056   1.916591)
     54:       882.58   15.036414  (  2.547648  -2.895388   0.403276)
     55:       908.35    0.661028  (  0.668850   0.399601   0.232348)
     56:       923.06   58.950249  (  3.111431  -4.759354   5.159243)
     57:       944.79   16.744804  ( -3.609314   0.893307  -1.708701)
     58:       954.46    1.731091  ( -0.106683   0.199339   1.296138)
     59:       983.44   28.013733  (  4.547527   0.241066   2.697335)
     60:      1009.74    1.616060  (  0.002760   0.647318   1.094090)
     61:      1015.70    0.518790  (  0.424235   0.576743  -0.078627)
     62:      1024.12   12.200772  ( -2.592398   1.082755  -2.075545)
     63:      1030.77    2.058603  (  0.293163  -1.037820  -0.946355)
     64:      1057.55    6.269296  ( -1.533737   1.977386   0.083009)
     65:      1082.10   29.082758  ( -2.317033   0.244371  -4.863579)
     66:      1101.57    2.423570  (  1.261453   0.033343  -0.911698)
     67:      1110.00   34.634782  (  0.720448  -4.115047   4.145132)
     68:      1125.62    4.130584  (  0.154966   1.339615   1.520526)
     69:      1136.87    4.189822  ( -1.647268   1.048137   0.614605)
     70:      1189.59    4.001253  (  1.462672   0.503032   1.268386)
     71:      1204.71    7.610052  (  2.475060   1.079585  -0.564470)
     72:      1207.74    4.227985  (  1.742904   1.016866   0.395291)
     73:      1222.79    0.485235  (  0.336096   0.596991  -0.126000)
     74:      1235.55    4.295531  ( -1.073859   1.466353  -0.996075)
     75:      1242.71    3.418012  (  0.678906   1.539874  -0.765433)
     76:      1248.69   10.129640  (  1.098778  -0.929259   2.838803)
     77:      1267.73    0.166611  (  0.314070  -0.162542  -0.203841)
     78:      1277.02   39.863163  ( -0.625694  -2.675636   5.684421)
     79:      1287.06    3.068571  ( -1.588548  -0.733968  -0.079855)
     80:      1306.77    6.048101  ( -1.684934   1.608684  -0.788184)
     81:      1310.07    2.347019  (  0.335783   1.347509  -0.646907)
     82:      1323.49    1.065785  (  0.479383   0.836885  -0.368239)
     83:      1352.91   40.955342  (  2.975324  -2.877865  -4.880644)
     84:      1377.83    1.340822  ( -0.478017  -0.620925  -0.852510)
     85:      1390.28    5.444886  (  1.583207   1.504092  -0.822222)
     86:      1391.41   31.692474  ( -1.102928   3.439468  -4.318111)
     87:      1397.22   79.168132  (  7.703791   2.876706  -3.397690)
     88:      1402.74    7.074165  ( -0.875592   0.960351  -2.320609)
     89:      1405.53    9.474361  (  2.987915   0.482645  -0.560158)
     90:      1408.74  108.897999  ( -7.775700  -6.178224   3.204065)
     91:      1427.08   15.923577  ( -0.420217  -3.967381   0.082954)
     92:      1430.23   15.820505  (  3.651006   0.955020  -1.256423)
     93:      1433.49    4.771036  (  0.909465   0.192733   1.976553)
     94:      1520.82   19.059340  ( -0.275437  -4.236477   1.017711)
     95:      1544.26  138.607149  (  1.519293   7.667271  -8.804082)
     96:      1556.79   23.783329  ( -1.595959   1.653653   4.301358)
     97:      1662.50  351.046696  (-15.273832   5.064423  -9.597311)
     98:      1810.98  373.906503  ( 12.874015 -14.247739   2.273365)
     99:      2983.52   86.551359  (  8.312603  -3.872330  -1.567500)
    100:      3093.28   29.236290  ( -2.532179   1.107309  -4.647389)
    101:      3093.56   46.400785  (  6.799190   0.244114  -0.334981)
    102:      3111.37    9.214429  ( -1.194369  -2.784581  -0.184443)
    103:      3112.40   27.451685  (  0.692016   1.698961  -4.907783)
    104:      3124.99   22.001931  ( -0.876915   1.714877  -4.276932)
    105:      3138.33   16.200901  ( -3.047143  -2.518730   0.756185)
    106:      3168.55    8.782133  (  0.475756  -2.835514   0.718089)
    107:      3171.72   16.099067  (  3.501157   1.702451  -0.970891)
    108:      3175.46   12.903315  ( -1.745554   0.214507  -3.132147)
    109:      3182.55   23.132173  (  2.290085  -3.741881  -1.971297)
    110:      3194.39   11.924955  (  0.891994  -3.000503  -1.458178)
    111:      3204.67   16.163056  (  1.409518  -0.561955   3.722972)
    112:      3214.71    4.995846  (  1.963636  -1.034648  -0.263596)
    113:      3215.23    7.087089  (  0.690213   2.550943  -0.321533)
    114:      3218.88   11.849135  (  1.051668  -3.052816   1.193083)
    115:      3226.14    2.564739  (  0.270918   0.446108   1.514044)
    116:      3226.41    4.608975  (  2.025569   0.200927   0.682404)
    117:      3383.71  897.456560  ( -3.143535 -27.918697 -10.398131)
    118:      3440.32  259.292073  (-13.832927   6.391838  -5.204481)
    119:      3560.03  588.525421  ( 12.859435   3.727709 -20.230288)
    120:      3687.73  164.609063  (  6.689036  -0.529004 -10.935539)
    121:      3905.08   46.051305  (  1.779883   6.537589   0.378488)
    122:      3910.12   94.160027  ( -4.630503  -4.887299   6.988045)

   The first frequency considered to be a vibration is 18
   The total number of vibrations considered is 105    
       

.. container:: formalpara-title

   **Input**

::

   -----------
   IR SPECTRUM
   -----------

    Mode   freq       eps      Int      T**2         TX        TY        TZ
          cm**-1   L/(mol*cm) km/mol    a.u.
   ----------------------------------------------------------------------------
     6:     57.11   0.000198    1.00  0.001084  ( 0.002125  0.017830 -0.027593)
     7:    410.93   0.000809    4.09  0.000615  (-0.003070  0.020473  0.013638)
     8:    529.76   0.003478   17.58  0.002049  ( 0.001899  0.026381 -0.036733)
     9:    571.49   0.007749   39.16  0.004231  (-0.057149  0.026892  0.015560)
    10:    673.47   0.018080   91.37  0.008378  (-0.005364 -0.052622  0.074697)
    11:    848.96   0.000773    3.91  0.000284  ( 0.015990  0.004055  0.003494)
    12:    951.80   0.009106   46.02  0.002985  (-0.033836  0.036161  0.023085)
    13:   1013.50   0.001801    9.10  0.000555  (-0.001803 -0.013676  0.019087)
    14:   1167.91   0.039551  199.87  0.010568  (-0.061546  0.069158  0.044688)
    15:   1289.62   0.002033   10.28  0.000492  ( 0.004949 -0.017911 -0.012115)
    16:   1357.69   0.018065   91.29  0.004152  ( 0.056601 -0.026557 -0.015595)
    17:   1394.57   0.002673   13.51  0.000598  ( 0.015624  0.014891  0.011503)
    18:   1402.10   0.002131   10.77  0.000474  ( 0.000286  0.013077 -0.017415)
    19:   1805.64   0.053978  272.78  0.009329  ( 0.039748  0.070733  0.052401)
    20:   2985.95   0.000241    1.22  0.000025  ( 0.004560  0.001683  0.001242)
    21:   3067.14   0.000405    2.05  0.000041  ( 0.000062 -0.003559  0.005342)
    22:   3119.56   0.000438    2.21  0.000044  (-0.002660  0.004994  0.003437)
    23:   3612.71   0.008621   43.57  0.000745  (-0.027166  0.002580 -0.000156)
       
       

.. container:: formalpara-title

   **Output text**

.. code:: xml

   <comment class="example.output" id="irspectrum">
           <module cmlx:templateRef="irspectrum">
              <array dataType="xsd:integer" dictRef="cc:serial" size="105">18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122</array>
              <array dataType="xsd:double" dictRef="cc:frequency" size="105">48.29 56.20 76.33 118.24 125.84 140.45 165.46 166.65 180.56 210.89 213.68 243.14 289.35 326.00 353.03 359.71 403.35 413.83 458.45 490.06 498.35 506.68 547.42 559.59 610.93 629.92 694.41 712.50 723.61 746.64 757.11 800.24 816.12 828.11 848.62 856.79 882.58 908.35 923.06 944.79 954.46 983.44 1009.74 1015.70 1024.12 1030.77 1057.55 1082.10 1101.57 1110.00 1125.62 1136.87 1189.59 1204.71 1207.74 1222.79 1235.55 1242.71 1248.69 1267.73 1277.02 1287.06 1306.77 1310.07 1323.49 1352.91 1377.83 1390.28 1391.41 1397.22 1402.74 1405.53 1408.74 1427.08 1430.23 1433.49 1520.82 1544.26 1556.79 1662.50 1810.98 2983.52 3093.28 3093.56 3111.37 3112.40 3124.99 3138.33 3168.55 3171.72 3175.46 3182.55 3194.39 3204.67 3214.71 3215.23 3218.88 3226.14 3226.41 3383.71 3440.32 3560.03 3687.73 3905.08 3910.12</array>
              <array dataType="xsd:double" dictRef="o:t2" size="105">1.958597 0.202210 8.074406 10.840233 15.470078 2.550585 23.990890 33.867958 20.957601 3.353067 7.328302 1.256768 61.222178 7.942233 66.722727 15.208741 0.875287 19.891098 6.122292 12.789591 11.949040 8.751565 28.071801 111.547061 95.834401 75.618738 2.985879 4.401776 7.373641 46.716719 25.479334 50.377591 12.241444 21.805398 8.885390 5.818196 15.036414 0.661028 58.950249 16.744804 1.731091 28.013733 1.616060 0.518790 12.200772 2.058603 6.269296 29.082758 2.423570 34.634782 4.130584 4.189822 4.001253 7.610052 4.227985 0.485235 4.295531 3.418012 10.129640 0.166611 39.863163 3.068571 6.048101 2.347019 1.065785 40.955342 1.340822 5.444886 31.692474 79.168132 7.074165 9.474361 108.897999 15.923577 15.820505 4.771036 19.059340 138.607149 23.783329 351.046696 373.906503 86.551359 29.236290 46.400785 9.214429 27.451685 22.001931 16.200901 8.782133 16.099067 12.903315 23.132173 11.924955 16.163056 4.995846 7.087089 11.849135 2.564739 4.608975 897.456560 259.292073 588.525421 164.609063 46.051305 94.160027</array>
              <matrix cols="3" dataType="xsd:double" dictRef="cc:displacement" rows="105">0.884259 -1.083932 -0.042133 -0.366671 -0.126137 0.227710 -2.209194 -1.114149 -1.397333 0.516893 -2.063912 2.512633 1.076971 -3.010689 2.290406 -0.579264 1.487969 -0.031412 4.133871 -1.466904 -2.179493 2.503370 -1.029163 -5.151885 0.086834 1.816179 -4.201375 -0.831165 1.153060 -1.154419 1.749481 -1.554620 -1.360432 0.376961 -1.042918 -0.164287 -1.294219 -7.466147 -1.950338 -2.722637 0.298542 -0.663590 2.152008 7.555053 2.238920 2.226276 2.180749 2.344520 -0.752992 -0.539829 -0.129901 -0.471604 -2.387343 3.737550 -0.798811 -0.976860 -2.128365 1.565376 1.395099 2.897048 -1.608055 -2.981851 0.686849 -2.323328 -0.924837 -1.580629 3.874851 1.962031 3.034430 5.454474 7.367291 -5.245837 4.314471 -2.159479 8.518004 -6.158596 -2.205256 -5.729509 -0.841267 0.467731 -1.435053 -0.063340 0.413430 2.055928 1.517600 -2.140960 0.697725 -6.564994 1.514624 -1.150431 -4.293846 0.359850 -2.629208 -3.584442 1.383597 -5.967833 1.374327 -0.410496 3.191263 -1.426366 1.410745 -4.216714 2.678021 -0.639273 -1.142333 -1.463991 -0.040056 1.916591 2.547648 -2.895388 0.403276 0.668850 0.399601 0.232348 3.111431 -4.759354 5.159243 -3.609314 0.893307 -1.708701 -0.106683 0.199339 1.296138 4.547527 0.241066 2.697335 0.002760 0.647318 1.094090 0.424235 0.576743 -0.078627 -2.592398 1.082755 -2.075545 0.293163 -1.037820 -0.946355 -1.533737 1.977386 0.083009 -2.317033 0.244371 -4.863579 1.261453 0.033343 -0.911698 0.720448 -4.115047 4.145132 0.154966 1.339615 1.520526 -1.647268 1.048137 0.614605 1.462672 0.503032 1.268386 2.475060 1.079585 -0.564470 1.742904 1.016866 0.395291 0.336096 0.596991 -0.126000 -1.073859 1.466353 -0.996075 0.678906 1.539874 -0.765433 1.098778 -0.929259 2.838803 0.314070 -0.162542 -0.203841 -0.625694 -2.675636 5.684421 -1.588548 -0.733968 -0.079855 -1.684934 1.608684 -0.788184 0.335783 1.347509 -0.646907 0.479383 0.836885 -0.368239 2.975324 -2.877865 -4.880644 -0.478017 -0.620925 -0.852510 1.583207 1.504092 -0.822222 -1.102928 3.439468 -4.318111 7.703791 2.876706 -3.397690 -0.875592 0.960351 -2.320609 2.987915 0.482645 -0.560158 -7.775700 -6.178224 3.204065 -0.420217 -3.967381 0.082954 3.651006 0.955020 -1.256423 0.909465 0.192733 1.976553 -0.275437 -4.236477 1.017711 1.519293 7.667271 -8.804082 -1.595959 1.653653 4.301358 -15.273832 5.064423 -9.597311 12.874015 -14.247739 2.273365 8.312603 -3.872330 -1.567500 -2.532179 1.107309 -4.647389 6.799190 0.244114 -0.334981 -1.194369 -2.784581 -0.184443 0.692016 1.698961 -4.907783 -0.876915 1.714877 -4.276932 -3.047143 -2.518730 0.756185 0.475756 -2.835514 0.718089 3.501157 1.702451 -0.970891 -1.745554 0.214507 -3.132147 2.290085 -3.741881 -1.971297 0.891994 -3.000503 -1.458178 1.409518 -0.561955 3.722972 1.963636 -1.034648 -0.263596 0.690213 2.550943 -0.321533 1.051668 -3.052816 1.193083 0.270918 0.446108 1.514044 2.025569 0.200927 0.682404 -3.143535 -27.918697 -10.398131 -13.832927 6.391838 -5.204481 12.859435 3.727709 -20.230288 6.689036 -0.529004 -10.935539 1.779883 6.537589 0.378488 -4.630503 -4.887299 6.988045</matrix>
           </module> 
       </comment>

.. container:: formalpara-title

   **Output text**

.. code:: xml

   <comment class="example.output" id="irspectrum2">
           <module cmlx:templateRef="irspectrum">
              <array dataType="xsd:integer" dictRef="cc:serial" size="18">6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23</array>
              <array dataType="xsd:double" dictRef="cc:frequency" size="18">57.11 410.93 529.76 571.49 673.47 848.96 951.80 1013.50 1167.91 1289.62 1357.69 1394.57 1402.10 1805.64 2985.95 3067.14 3119.56 3612.71</array>
              <array dataType="xsd:double" dictRef="o:t2" size="18">0.001084 0.000615 0.002049 0.004231 0.008378 0.000284 0.002985 0.000555 0.010568 0.000492 0.004152 0.000598 0.000474 0.009329 0.000025 0.000041 0.000044 0.000745</array>
              <matrix cols="3" dataType="xsd:double" dictRef="cc:displacement" rows="18">0.002125 0.017830 -0.027593 -0.003070 0.020473 0.013638 0.001899 0.026381 -0.036733 -0.057149 0.026892 0.015560 -0.005364 -0.052622 0.074697 0.015990 0.004055 0.003494 -0.033836 0.036161 0.023085 -0.001803 -0.013676 0.019087 -0.061546 0.069158 0.044688 0.004949 -0.017911 -0.012115 0.056601 -0.026557 -0.015595 0.015624 0.014891 0.011503 0.000286 0.013077 -0.017415 0.039748 0.070733 0.052401 0.004560 0.001683 0.001242 0.000062 -0.003559 0.005342 -0.002660 0.004994 0.003437 -0.027166 0.002580 -0.000156</matrix>
           </module>
       </comment>

.. container:: formalpara-title

   **Template definition**

.. code:: xml

   <template pattern="\s*Mode.*$\s*cm.*" endPattern="~" endOffset="1">  <record repeat="3" />  <record repeat="*">{I,cc:serial}:{F,cc:frequency}\s.*\s.*\s{F,o:t2}\({3F,o:txyz}\)</record>
       </template>
   <template pattern="\s*Mode.*$\s*----.*" endPattern="~" endOffset="1">  <record repeat="2" />  <record repeat="*">{I,cc:serial}:{F,cc:frequency}{F,o:t2}\({3F,o:txyz}\)</record>
       </template>
   <transform process="createArray" xpath="." from=".//cml:scalar[@dictRef='cc:serial']" />
   <transform process="createArray" xpath="." from=".//cml:scalar[@dictRef='cc:frequency']" />
   <transform process="createArray" xpath="." from=".//cml:scalar[@dictRef='o:t2']" />
   <transform process="createMatrix" xpath="." from=".//cml:array[@dictRef='o:txyz']" dictRef="cc:displacement" />
   <transform process="move" xpath=".//cml:array" to="." />
   <transform process="move" xpath=".//cml:matrix" to="." />
   <transform process="delete" xpath=".//cml:list" />
   <transform process="delete" xpath=".//cml:module" />

.. |image1| image:: ../../imgs/Total.png
.. |image2| image:: ../../imgs/Total.png
